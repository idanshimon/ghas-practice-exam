<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GHAS Certification Practice Exam</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:#0d1117;color:#c9d1d9;line-height:1.6}
.container{max-width:860px;margin:0 auto;padding:20px}
#start-screen{text-align:center;margin-top:80px}
#start-screen h2{font-size:32px;color:#fff;margin-bottom:16px}
#start-screen p{color:#8b949e;margin-bottom:24px;font-size:16px}
.start-btn{background:#238636;color:#fff;border:none;padding:14px 40px;border-radius:8px;font-size:18px;cursor:pointer}
.start-btn:hover{background:#2ea043}
.progress-bar{background:#21262d;border-radius:8px;height:8px;margin-bottom:20px;overflow:hidden}
.progress-fill{background:#58a6ff;height:100%;transition:width .3s}
.progress-text{text-align:center;color:#8b949e;font-size:13px;margin-bottom:16px}
.question-card{background:#161b22;border:1px solid #30363d;border-radius:12px;padding:24px;margin-bottom:20px}
.q-number{color:#58a6ff;font-weight:600;font-size:14px;margin-bottom:8px}
.q-text{font-size:16px;color:#e6edf3;margin:12px 0 16px;line-height:1.7}
.options{margin:16px 0}
.option{display:flex;align-items:flex-start;gap:10px;padding:12px 16px;margin:8px 0;border:1px solid #30363d;border-radius:8px;cursor:pointer;transition:all .2s}
.option:hover{border-color:#58a6ff;background:#1c2333}
.option.selected{border-color:#58a6ff;background:#1c2333}
.option.correct{border-color:#3fb950;background:#0d2818}
.option.incorrect{border-color:#f85149;background:#2d0f0f}
.option.missed{border-color:#3fb950;background:#0d2818;opacity:.7}
.option input{margin-top:3px}
.option label{cursor:pointer;flex:1}
.option-letter{font-weight:600;color:#58a6ff;min-width:24px}
.btn-row{display:flex;gap:12px;justify-content:center;margin:20px 0}
.btn{padding:10px 24px;border-radius:8px;border:none;font-size:15px;cursor:pointer;font-weight:500}
.btn-primary{background:#238636;color:#fff}
.btn-primary:hover{background:#2ea043}
.btn-secondary{background:#21262d;color:#c9d1d9;border:1px solid #30363d}
.btn-secondary:hover{background:#30363d}
.btn:disabled{opacity:.4;cursor:not-allowed}
.explanation{background:#1c2333;border:1px solid #30363d;border-radius:8px;padding:16px;margin-top:16px;display:none}
.explanation.show{display:block}
.explanation h4{color:#58a6ff;margin-bottom:8px}
.explanation pre{white-space:pre-wrap;font-family:inherit;color:#c9d1d9;font-size:14px}
#results{display:none;text-align:center;margin-top:40px}
#results h2{font-size:28px;margin-bottom:16px}
.score-circle{width:160px;height:160px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:20px auto;font-size:40px;font-weight:bold}
.score-pass{background:#0d2818;border:3px solid #3fb950;color:#3fb950}
.score-fail{background:#2d0f0f;border:3px solid #f85149;color:#f85149}
.stats{display:flex;gap:30px;justify-content:center;margin:20px 0;color:#8b949e}
.stat-num{font-size:24px;color:#fff;font-weight:bold}
#review-section{margin-top:30px;text-align:left}
.review-q{background:#161b22;border:1px solid #30363d;border-radius:8px;padding:16px;margin:12px 0}
.review-q.wrong{border-left:4px solid #f85149}
.review-q.right{border-left:4px solid #3fb950}
.timer{position:fixed;top:10px;right:16px;background:#161b22;border:1px solid #30363d;border-radius:8px;padding:8px 14px;font-size:14px;color:#8b949e;z-index:100}
.timer span{color:#58a6ff;font-weight:600}
.nav-dots{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;margin:16px 0}
.nav-dot{width:28px;height:28px;border-radius:6px;border:1px solid #30363d;display:flex;align-items:center;justify-content:center;font-size:11px;cursor:pointer;color:#8b949e;background:#161b22}
.nav-dot.current{border-color:#58a6ff;color:#58a6ff}
.nav-dot.answered{background:#1c2333;color:#c9d1d9}
.nav-dot.flagged{border-color:#d29922}
.flag-btn{background:none;border:none;color:#8b949e;cursor:pointer;font-size:18px}
.flag-btn.flagged{color:#d29922}
.mode-row{display:flex;gap:12px;justify-content:center;margin:16px 0}
.mode-btn{padding:8px 20px;border-radius:8px;border:1px solid #30363d;background:#161b22;color:#8b949e;cursor:pointer}
.mode-btn.active{background:#1c2333;color:#58a6ff;border-color:#58a6ff}
</style>
</head><body>
<div class="container">
<div id="start-screen">
<h2>GitHub Advanced Security</h2>
<p>Practice Certification Exam<br>75 Questions | ~120 Minutes | 70% to Pass</p>
<div class="mode-row">
<button class="mode-btn active" onclick="setMode('exam')" id="mode-exam">Exam Mode</button>
<button class="mode-btn" onclick="setMode('study')" id="mode-study">Study Mode</button>
<button class="mode-btn" onclick="setMode('learn')" id="mode-learn">Learn Mode</button>
</div>
<p style="font-size:13px;color:#8b949e;margin:8px 0;">Exam: timed, answers at end. Study: check answer button. Learn: answer revealed on Next.</p>
<button class="start-btn" onclick="startExam()">Start Exam</button>
</div>
<div id="exam-screen" style="display:none;">
<div class="timer">Time: <span id="timer">120:00</span></div>
<div class="progress-text" id="progress-text">Question 1 of 75</div>
<div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
<div class="nav-dots" id="nav-dots"></div>
<div id="question-area"></div>
<div class="btn-row">
<button class="btn btn-secondary" id="prev-btn" onclick="prevQ()">Previous</button>
<button class="flag-btn" id="flag-btn" onclick="toggleFlag()" title="Flag for review">üö©</button>
<button class="btn btn-primary" id="next-btn" onclick="nextQ()">Next</button>
<button class="btn btn-secondary" id="home-btn" onclick="goHome()" title="Back to mode select">üè†</button>
</div>
<div class="btn-row" id="submit-row">
<button class="btn btn-primary" onclick="submitExam()">Submit Exam</button>
</div>
</div>
<div id="results"></div>
</div>
<script>
${examDataStr}

let mode='exam',currentQ=0,answers=new Array(examData.length).fill(null),flagged=new Set(),submitted=false,timerInterval,timeLeft=120*60;

let learnRevealed=new Set();
function setMode(m){mode=m;document.getElementById('mode-exam').classList.toggle('active',m==='exam');document.getElementById('mode-study').classList.toggle('active',m==='study');document.getElementById('mode-learn').classList.toggle('active',m==='learn')}
function startExam(){document.getElementById('start-screen').style.display='none';document.getElementById('exam-screen').style.display='block';buildNavDots();renderQ();if(mode==='exam'){timerInterval=setInterval(updateTimer,1000)}else{document.querySelector('.timer').style.display='none'}}
function updateTimer(){timeLeft--;if(timeLeft<=0){clearInterval(timerInterval);submitExam();return}let m=Math.floor(timeLeft/60),s=timeLeft%60;document.getElementById('timer').textContent=m+':'+(s<10?'0':'')+s}
function buildNavDots(){let h='';for(let i=0;i<examData.length;i++){h+='<div class="nav-dot" id="dot-'+i+'" onclick="goToQ('+i+')">'+(i+1)+'</div>'}document.getElementById('nav-dots').innerHTML=h}
function updateNavDots(){for(let i=0;i<examData.length;i++){let d=document.getElementById('dot-'+i);d.className='nav-dot';if(i===currentQ)d.classList.add('current');if(answers[i]!==null)d.classList.add('answered');if(flagged.has(i))d.classList.add('flagged')}}
function goToQ(i){currentQ=i;renderQ()}
function prevQ(){if(currentQ>0){currentQ--;renderQ()}}
function nextQ(){
  if(mode==='learn'&&!learnRevealed.has(currentQ)){
    revealLearnAnswer();return;
  }
  if(currentQ<examData.length-1){currentQ++;renderQ()}
  else{showResults()}
}

function showResults(){
  clearInterval(timerInterval);
  let correct=0,wrong=0,skipped=0,results=[];
  for(let i=0;i<examData.length;i++){
    let q=examData[i];
    let correctLetters=q.answer.replace(/[^A-Za-z,]/g,'').split(',').map(s=>s.trim().toUpperCase()).filter(s=>s.length===1);
    let userAnswer=answers[i],userLetters=[];
    if(Array.isArray(userAnswer))userLetters=userAnswer.map(s=>s.toUpperCase());
    else if(userAnswer)userLetters=[userAnswer.toUpperCase()];
    let isCorrect=false,isSkipped=userLetters.length===0;
    if(!isSkipped){isCorrect=correctLetters.length===userLetters.length&&correctLetters.every(c=>userLetters.includes(c))}
    if(isSkipped)skipped++;else if(isCorrect)correct++;else wrong++;
    results.push({num:q.num,correct:isCorrect,skipped:isSkipped,userAnswer:userLetters.join(', ')||'Skipped',correctAnswer:correctLetters.join(', '),explanation:q.explanation,question:q.question,options:q.options});
  }
  let answered=correct+wrong;
  let pct=answered>0?Math.round(correct/examData.length*100):0;
  let passed=pct>=70;
  document.getElementById('exam-screen').style.display='none';
  let res=document.getElementById('results');res.style.display='block';
  let h='<h2>'+(passed?'üéâ PASSED!':'‚ùå Not Passed')+'</h2>';
  h+='<div class="score-circle '+(passed?'score-pass':'score-fail')+'">'+pct+'%</div>';
  h+='<div class="stats"><div><div class="stat-num">'+correct+'</div>Correct</div><div><div class="stat-num">'+wrong+'</div>Wrong</div>';
  if(skipped>0)h+='<div><div class="stat-num">'+skipped+'</div>Skipped</div>';
  h+='<div><div class="stat-num">'+examData.length+'</div>Total</div></div>';
  h+='<div class="btn-row"><button class="btn btn-primary" onclick="location.reload()">Start Over</button><button class="btn btn-secondary" onclick="reviewMode()">Review All Questions</button></div>';
  h+='<div id="review-section" style="display:none;">';
  for(let r of results){
    let cls=r.skipped?'wrong':(r.correct?'right':'wrong');
    let label=r.skipped?'‚è≠ Skipped':(r.correct?'‚úÖ Correct':'‚ùå Wrong');
    h+='<div class="review-q '+cls+'">';
    h+='<div class="q-number">Question '+r.num+' ‚Äî '+label+'</div>';
    h+='<div class="q-text">'+r.question+'</div>';
    for(let k of Object.keys(r.options)){h+='<div style="padding:4px 0;color:#8b949e;"><strong>'+k+'.</strong> '+r.options[k]+'</div>'}
    h+='<p style="margin-top:8px;"><strong>Your answer:</strong> '+r.userAnswer+' | <strong>Correct:</strong> '+r.correctAnswer+'</p>';
    h+='<pre style="white-space:pre-wrap;font-family:inherit;color:#8b949e;font-size:13px;margin-top:8px;">'+r.explanation.replace(/</g,'&lt;')+'</pre>';
    h+='</div>';
  }
  h+='</div>';
  res.innerHTML=h;
}

function renderQ(){
  let q=examData[currentQ];
  document.getElementById('progress-text').textContent='Question '+(currentQ+1)+' of '+examData.length;
  document.getElementById('progress-fill').style.width=((currentQ+1)/examData.length*100)+'%';
  let isMulti=/choose (two|three|2|3)/i.test(q.question);
  let inputType=isMulti?'checkbox':'radio';
  let letters=Object.keys(q.options);
  let h='<div class="question-card">';
  h+='<div class="q-number">Question '+q.num+(isMulti?' (Select all that apply)':'')+'</div>';
  h+='<div class="q-text">'+q.question+'</div>';
  h+='<div class="options" id="options">';
  for(let l of letters){
    let checked='';
    if(answers[currentQ]){if(Array.isArray(answers[currentQ])){checked=answers[currentQ].includes(l)?'checked':''}else{checked=answers[currentQ]===l?'checked':''}}
    let selClass=checked?' selected':'';
    h+='<div class="option'+selClass+'" id="opt-'+l+'" onclick="selectOption(\''+l+'\',\''+inputType+'\')">';
    h+='<input type="'+inputType+'" name="q'+currentQ+'" value="'+l+'" '+checked+'>';
    h+='<span class="option-letter">'+l+'.</span>';
    h+='<label>'+q.options[l]+'</label></div>';
  }
  h+='</div>';
  if(mode==='study'){
    h+='<div class="btn-row"><button class="btn btn-primary" onclick="checkAnswer()">Check Answer</button></div>';
    h+='<div class="explanation" id="explanation"><h4>Explanation</h4><pre id="expl-text"></pre></div>';
  }
  if(mode==='learn'){
    h+='<div class="explanation" id="learn-explanation" style="display:none;"><h4>Explanation</h4><pre id="learn-expl-text"></pre></div>';
  }
  if(mode==='review'){
    h+='<div class="explanation show"><h4>Explanation</h4><pre>'+q.explanation.replace(/</g,'&lt;')+'</pre></div>';
  }
  h+='</div>';
  document.getElementById('question-area').innerHTML=h;
  if(mode==='learn'&&learnRevealed.has(currentQ)){revealLearnAnswer()}
  if(mode==='review'){
    let correctLetters=q.answer.replace(/[^A-Za-z,]/g,'').split(',').map(s=>s.trim().toUpperCase()).filter(s=>s.length===1);
    document.querySelectorAll('.option').forEach(opt=>{
      let letter=opt.querySelector('input').value;
      let isCorrect=correctLetters.includes(letter);
      let isSelected=false;
      if(Array.isArray(answers[currentQ]))isSelected=answers[currentQ].includes(letter);
      else isSelected=answers[currentQ]===letter;
      if(isSelected&&isCorrect)opt.classList.add('correct');
      else if(isSelected&&!isCorrect)opt.classList.add('incorrect');
      else if(!isSelected&&isCorrect)opt.classList.add('missed');
    });
  }
  updateNavDots();
  document.getElementById('prev-btn').disabled=currentQ===0;
  document.getElementById('next-btn').textContent=currentQ===examData.length-1?'Finish':'Next';
  document.getElementById('submit-row').style.display=(mode==='exam'&&!submitted)?'flex':'none';
  document.getElementById('flag-btn').className=flagged.has(currentQ)?'flag-btn flagged':'flag-btn';
  if(mode==='review'){document.getElementById('flag-btn').style.display='none'}else{document.getElementById('flag-btn').style.display=''}
}

function revealLearnAnswer(){
  learnRevealed.add(currentQ);
  let q=examData[currentQ];
  let correctLetters=q.answer.replace(/[^A-Za-z,]/g,'').split(',').map(s=>s.trim().toUpperCase()).filter(s=>s.length===1);
  document.querySelectorAll('.option').forEach(opt=>{
    let letter=opt.querySelector('input').value;
    let isCorrect=correctLetters.includes(letter);
    let isSelected=false;
    if(Array.isArray(answers[currentQ]))isSelected=answers[currentQ].includes(letter);
    else isSelected=answers[currentQ]===letter;
    if(isSelected&&isCorrect)opt.classList.add('correct');
    else if(isSelected&&!isCorrect)opt.classList.add('incorrect');
    else if(!isSelected&&isCorrect)opt.classList.add('missed');
  });
  let expDiv=document.getElementById('learn-explanation');
  if(expDiv){expDiv.style.display='block';document.getElementById('learn-expl-text').textContent=q.explanation}
  document.getElementById('next-btn').textContent=currentQ===examData.length-1?'Finish':'Continue ‚Üí';
}

function selectOption(letter,type){
  if(submitted)return;
  if(type==='checkbox'){
    if(!Array.isArray(answers[currentQ]))answers[currentQ]=[];
    let idx=answers[currentQ].indexOf(letter);
    if(idx>-1)answers[currentQ].splice(idx,1);else answers[currentQ].push(letter);
    if(answers[currentQ].length===0)answers[currentQ]=null;
  }else{answers[currentQ]=letter}
  let opts=document.querySelectorAll('#options input');
  opts.forEach(o=>{let p=o.closest('.option');if(type==='checkbox'){o.checked=answers[currentQ]&&answers[currentQ].includes(o.value);p.classList.toggle('selected',o.checked)}else{o.checked=o.value===letter;p.classList.toggle('selected',o.checked)}});
  updateNavDots();
}

function toggleFlag(){if(flagged.has(currentQ))flagged.delete(currentQ);else flagged.add(currentQ);document.getElementById('flag-btn').className=flagged.has(currentQ)?'flag-btn flagged':'flag-btn';updateNavDots()}

function checkAnswer(){
  let q=examData[currentQ];
  let correctLetters=q.answer.replace(/[^A-Za-z,]/g,'').split(',').map(s=>s.trim().toUpperCase()).filter(s=>s.length===1);
  document.querySelectorAll('.option').forEach(opt=>{
    let letter=opt.querySelector('input').value;
    let isCorrect=correctLetters.includes(letter);
    let isSelected=false;
    if(Array.isArray(answers[currentQ]))isSelected=answers[currentQ].includes(letter);
    else isSelected=answers[currentQ]===letter;
    if(isSelected&&isCorrect)opt.classList.add('correct');
    else if(isSelected&&!isCorrect)opt.classList.add('incorrect');
    else if(!isSelected&&isCorrect)opt.classList.add('missed');
  });
  document.getElementById('expl-text').textContent=q.explanation;
  document.getElementById('explanation').classList.add('show');
}

function submitExam(){
  let answered=answers.filter(a=>a!==null).length;
  let unanswered=examData.length-answered;
  let msg='Submit exam?';
  if(unanswered>0)msg='You have '+unanswered+' unanswered question'+(unanswered>1?'s':'')+'. Submit anyway?';
  if(!confirm(msg))return;
  submitted=true;
  showResults();
}

function goHome(){
  if(!confirm('Go back to mode selection? Your progress will be lost.'))return;
  clearInterval(timerInterval);
  location.reload();
}

function reviewMode(){
  document.getElementById('review-section').style.display='block';
  if(!document.getElementById('nav-review-btn')){
    let nav=document.createElement('div');
    nav.className='btn-row';
    nav.id='nav-review-btn';
    nav.innerHTML='<button class="btn btn-secondary" onclick="interactiveReview()">Navigate Questions</button>';
    document.getElementById('review-section').prepend(nav);
  }
}

function interactiveReview(){
  document.getElementById('results').style.display='none';
  document.getElementById('exam-screen').style.display='block';
  document.getElementById('submit-row').style.display='none';
  mode='review';
  currentQ=0;
  renderQ();
}
</script>
</body></html>